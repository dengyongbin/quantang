function chartmake() {
	AmCharts.makeChart("chartdiv", {
		"type" : "serial",
		"theme" : "none",
		"pathToImages" : "/lib/3/images/",
		"dataProvider" : chartData,
		"graphs" : [ {
			"balloonText" : "[[date]]: [[value]]",
			"lineThickness" : 2,
			// "title" : "价格",
			"valueField" : "price"
		} ],
		"zoomOutButtonRollOverAlpha" : 0.15,
		"chartCursor" : {
			"categoryBalloonDateFormat" : "YYYY MMM DD JJ:NN:SS",
			"cursorPosition" : "mouse",
			"showNextAvailable" : true
		},
		"autoMarginOffset" : 5,
		"columnWidth" : 1,
		"categoryField" : "date",
		"categoryAxis" : {
			"minPeriod" : "ss",
			"parseDates" : true
		},
		"exportConfig" : {
			"menuTop" : "20px",
			"menuRight" : "20px",
			"menuItems" : [ {
				"icon" : '/lib/3/images/export.png',
				"format" : 'png'
			} ]
		}
	});
}
function chartmake2(){
	AmCharts.makeChart(divname, {
		"type" : "serial",
		"theme" : "light",
		// "theme": "dark",
		 // "theme": "chalk",
		 // "theme": "patterns",
		 // "theme": "none",
		 "legend" : {//图解设定
			"equalWidths" : false,
			"useGraphSettings" : true,
			"valueAlign" : "left",
			"valueWidth" : 60
		},
		"dataProvider" :chartData,
		"valueAxes" : [{
			"id" : "dtlAxis",
			"axisAlpha" : 0,
			"gridAlpha" : 0,
			"position" : "left"// 依赖位置
			// "title" : "dtl"//标题
		}, {
			"id" : "ktlAxis",
			"axisAlpha" : 0,
			"gridAlpha" : 0,
			"position" : "left"// 依赖位置
			// "title" : "ktl"//标题
		}, {
			"id" : "jccAxis",
			"axisAlpha" : 0,
			"gridAlpha" : 0,
			"position" : "left"// 依赖位置
			// "title" : "jcc"//标题
		}, {
			"id" : "bhlAxis",
			"axisAlpha" : 0,
			"gridAlpha" : 0,
			"position" : "left"// 依赖位置
			// "title" : "bhl"//标题
		},axes],
		"graphs" : [ {
			"balloonText" : "[[date]] [[value]]",
			"dashLengthField" : "dashLength",
			"fillAlphas" :1.27, // 填充
			"legendValueText" : "[[value]]",
			"title" : "净持仓变化量",
			"type" : "column",// 柱状图
			"valueField" : "bhl",
			"valueAxis" : "dtlAxis",
			"width":10,
			"columnWidth" :0.1
		}, {
			"balloonText" : "[[date]] [[value]]",
			"bullet" : "none",//none/round
			"bulletBorderAlpha" : 1,
			"bulletSize":0.1,
			"useLineColorForBulletBorder" : true,
			"labelPosition" : "right",
			"title" : "空头量",
			"fillAlphas" : 0,
			"valueField" : "ktl",
			"valueAxis" : "dtlAxis"
		}, {
			"balloonText" : "[[date]] [[value]]",
			"bullet" : "none",
			"bulletBorderAlpha" : 1,
			"bulletSize":0.1,
			"useLineColorForBulletBorder" : true,
			"labelPosition" : "right",
			"title" : "净持仓",
			"fillAlphas" : 0,
			"valueField" : "jcc",
			"valueAxis" : "dtlAxis"
		}, {
			"balloonText" : "[[date]] [[value]]",
			"bullet" : "none",
			"bulletBorderAlpha" : 1,
			"bulletSize":0.1,
			"useLineColorForBulletBorder" : true,
			"labelPosition" : "right",
			"title" : "多单量",
			"fillAlphas" : 0,
			"valueField" : "dtl",
			"valueAxis" : "dtlAxis"
		} ,grphs],
		"dataDateFormat" : "YYYY-MM-DD",
		"categoryField" : "date",
		"categoryAxis" : {
			 "dateFormats" : [ {
				"period" : "DD",
				"format" : "DD"
			} , {
				"period" : "WW",
				"format" : "MMM DD"
			}, {
				"period" : "MM",
				"format" : "MMM"
			}, {
				"period" : "YYYY",
				"format" : "YYYY"
			}  ], 
			"parseDates" : true,
			"autoGridCount" : false,
			"axisColor" : "#555555",
			"gridAlpha" : 0.1,
			"gridColor" : "#FFFFFF",
			"gridCount" : 50
		},
		 "chartCursor": {
		        "cursorPosition": "mouse",
		        "categoryBalloonEnabled":false,
		    },
		"chartScrollbar": {"position":"bottom"},
		"exportConfig" : {
			"menuBottom" : "20px",
			"menuRight" : "22px",
			"menuItems" : [ {
				"icon" : '../index/amcharts/images/export.png',
				"format" : 'png'
			} ]
		}

	});
}
var stockchart = {
	"createStockChart" : function() {
		chart = new AmCharts.AmStockChart();
		chart.pathToImages = "../amcharts/images/";
		chart.balloon.horizontalPadding = 13;

		// DATASET //////////////////////////////////////////
		var dataSet = new AmCharts.DataSet();
		dataSet.fieldMappings = [ {
			fromField : "open",
			toField : "open"
		}, {
			fromField : "close",
			toField : "close"
		}, {
			fromField : "high",
			toField : "high"
		}, {
			fromField : "low",
			toField : "low"
		}, {
			fromField : "volume",
			toField : "volume"
		}, {
			fromField : "value",
			toField : "value"
		} ];
		dataSet.color = "#7f8da9";
		dataSet.dataProvider = chartData;
		dataSet.categoryField = "date";

		chart.dataSets = [ dataSet ];

		// PANELS ///////////////////////////////////////////
		stockPanel = new AmCharts.StockPanel();
		stockPanel.title = "Value";

		// graph of first stock panel
		var graph = new AmCharts.StockGraph();
		graph.type = "candlestick";
		graph.openField = "open";
		graph.closeField = "close";
		graph.highField = "high";
		graph.lowField = "low";
		graph.valueField = "close";
		graph.lineColor = "#7f8da9";
		graph.fillColors = "#7f8da9";
		graph.negativeLineColor = "#db4c3c";
		graph.negativeFillColors = "#db4c3c";
		graph.fillAlphas = 1;
		graph.balloonText = "open:<b>[[open]]</b><br>close:<b>[[close]]</b><br>low:<b>[[low]]</b><br>high:<b>[[high]]</b>";
		graph.useDataSetColors = false;
		stockPanel.addStockGraph(graph);

		var stockLegend = new AmCharts.StockLegend();
		stockLegend.markerType = "none";
		stockLegend.markerSize = 0;
		stockLegend.valueTextRegular = undefined;
		stockLegend.valueWidth = 250;
		stockPanel.stockLegend = stockLegend;

		chart.panels = [ stockPanel ];

		// OTHER SETTINGS ////////////////////////////////////
		var sbsettings = new AmCharts.ChartScrollbarSettings();
		sbsettings.graph = graph;
		sbsettings.graphType = "line";
		sbsettings.usePeriod = "WW";
		chart.chartScrollbarSettings = sbsettings;

		// Enable pan events
		var panelsSettings = new AmCharts.PanelsSettings();
		panelsSettings.panEventsEnabled = true;
		chart.panelsSettings = panelsSettings;

		// CURSOR
		var cursorSettings = new AmCharts.ChartCursorSettings();
		cursorSettings.valueBalloonsEnabled = true;
		cursorSettings.fullWidth = true;
		cursorSettings.cursorAlpha = 0.1;
		chart.chartCursorSettings = cursorSettings;

		// PERIOD SELECTOR ///////////////////////////////////
		var periodSelector = new AmCharts.PeriodSelector();
		periodSelector.position = "bottom";
		periodSelector.periods = [ {
			period : "DD",
			count : 10,
			label : "10 days"
		}, {
			period : "MM",
			selected : true,
			count : 1,
			label : "1 month"
		}, {
			period : "YYYY",
			count : 1,
			label : "1 year"
		}, {
			period : "YTD",
			label : "YTD"
		}, {
			period : "MAX",
			label : "MAX"
		} ];
		chart.periodSelector = periodSelector;

		chart.write('chartdiv');
	},
	"addPanel" : function() {
		newPanel = new AmCharts.StockPanel();
		newPanel.allowTurningOff = true;
		newPanel.title = "Volume";
		newPanel.showCategoryAxis = false;

		var graph = new AmCharts.StockGraph();
		graph.valueField = "volume";
		graph.fillAlphas = 0.15;
		newPanel.addStockGraph(graph);

		var legend = new AmCharts.StockLegend();
		legend.markerType = "none";
		legend.markerSize = 0;
		newPanel.stockLegend = legend;

		chart.addPanelAt(newPanel, 1);
		chart.validateNow();

		document.getElementById("addPanelButton").disabled = true;
		document.getElementById("removePanelButton").disabled = false;
	},
	"removePanel" : function() {
		chart.removePanel(newPanel);
		chart.validateNow();
		document.getElementById("addPanelButton").disabled = false;
		document.getElementById("removePanelButton").disabled = true;
	}
}

function chartmake3() {
	AmCharts.makeChart("chartdiv", {
		"type" : "serial",
		"theme" : "none",
		"pathToImages" : "/lib/3/images/",
		"dataProvider" : chartData,
		"backgroundAlpha":0.5,
		"backgroundColor":"#dddddd",
		"borderAlpha":0.4,
		"borderColor":"#123321",
		"graphs" : [ {
			"balloonText" : "[[date]]<br> 价位：[[value]]",
			"balloonColor":"#f3f3f4",
			"bulletBorderAlpha":0.6,
			"lineThickness" : 1,
			// "title" : "价格",
			"valueField" : "price",
			"lineColor":"#0088cc",
			"pointPosition":"start"
		} ],
		/*"zoomOutButtonRollOverAlpha" : 0.15,*/
		"chartCursor" : {
			"cursorPosition" : "middle",
			//下边滑动块不显示
			"categoryBalloonEnabled":false,
		},
		"autoMarginOffset" : 5,
		"columnWidth" : 1,
		"categoryField" : "date",
		"categoryAxis" : {
			"minPeriod" : "15ss",
			"parseDates" : true,
			"gridCount":5,
			"centerLabelOnFullPeriod":true
		},
		"exportConfig" : {
			"menuTop" : "20px",
			"menuRight" : "20px",
			"menuItems" : [ {
				"icon" : '/lib/3/images/export.png',
				"format" : 'png'
			} ]
		}
	});
}